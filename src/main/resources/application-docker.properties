# =========================================================
# PERFIL DOCKER - Configuración para ejecución en Docker
# =========================================================
# Activar este perfil automáticamente en docker-compose.yml

# Puerto del servidor
server.port=8080

# =========================================================
# CONFIGURACIÓN DE MÚLTIPLES DATASOURCES EN DOCKER
# =========================================================
# DataSource A - MySQL (servicio 'mysql' en docker-compose)
spring.datasource-a.url=jdbc:mysql://mysql:3306/spring_batch_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource-a.username=${MYSQL_ROOT_USERNAME}
spring.datasource-a.password=${MYSQL_ROOT_PASSWORD}
spring.datasource-a.driver-class-name=com.mysql.cj.jdbc.Driver

# DataSource B - PostgreSQL (servicio 'postgres' en docker-compose)
spring.datasource-b.url=jdbc:postgresql://postgres:5432/spring_batch_db
spring.datasource-b.username=${POSTGRES_USER}
spring.datasource-b.password=${POSTGRES_PASSWORD}
spring.datasource-b.driver-class-name=org.postgresql.Driver

# Configuración de JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Configuración de Spring Batch
spring.batch.job.enabled=false
spring.batch.jdbc.initialize-schema=never

# =========================================================
# RUTA DEL CSV - DOCKER
# El Dockerfile copia data/ a /app/data/
# Busca en: /app/data/registros.csv
# =========================================================
file.data.path=/app/data
file.input=/app/data/registros.csv

# Logging (menos verboso en Docker)
logging.level.root=WARN
logging.level.com.ejemplo.batch=INFO
