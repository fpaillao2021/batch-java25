# =========================================================
# PERFIL LOCAL - Configuración para ejecución local
# =========================================================
# Activar este perfil: -Dspring.profiles.active=local

# Puerto del servidor
server.port=8080

# =========================================================
# CONFIGURACIÓN DE MÚLTIPLES DATASOURCES EN LOCAL
# =========================================================
# DataSource A - MySQL (servicio 'db' en docker o localhost:3308)
spring.datasource-a.url=jdbc:mysql://localhost:3308/spring_batch_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource-a.username=root
spring.datasource-a.password=Evertec.2025
spring.datasource-a.driver-class-name=com.mysql.cj.jdbc.Driver

# DataSource B - PostgreSQL (localhost:5433 - puerto expuesto por Docker)
spring.datasource-b.url=jdbc:postgresql://localhost:5433/spring_batch_db
spring.datasource-b.username=postgres
spring.datasource-b.password=Evertec.2025
spring.datasource-b.driver-class-name=org.postgresql.Driver

# Configuración de JPA/Hibernate
# CRÍTICO: Deshabilitar la inicialización automática de JPA durante el inicio
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
# Deshabilitar la inicialización automática de Spring Data JPA durante el inicio
spring.data.jpa.repositories.bootstrap-mode=lazy
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Configuración de Spring Batch
spring.batch.job.enabled=false
spring.batch.jdbc.initialize-schema=never

# =========================================================
# RUTA DEL CSV - LOCAL
# Busca en: src/main/resources/data/registros.csv
# =========================================================
file.data.path=src/main/resources/data
file.input=src/main/resources/data/registros.csv

# Logging
logging.level.root=INFO
logging.level.com.ejemplo.batch=DEBUG
